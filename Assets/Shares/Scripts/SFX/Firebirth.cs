// ======================================================================================
// File         : Firebirth.cs
// Author       : Wu Jie 
// Last Change  : 08/03/2012 | 14:24:48 PM | Friday,August
// Description  : 
// ======================================================================================

///////////////////////////////////////////////////////////////////////////////
// usings
///////////////////////////////////////////////////////////////////////////////

using UnityEngine;
using System.Collections;

///////////////////////////////////////////////////////////////////////////////
// \class Firebirth
// 
// \brief 
// 
///////////////////////////////////////////////////////////////////////////////

public class Firebirth : MonoBehaviour {

    ///////////////////////////////////////////////////////////////////////////////
    //
    ///////////////////////////////////////////////////////////////////////////////

    public float emittime = 0.3f;
    public float endemittime = 3.0f;

    ///////////////////////////////////////////////////////////////////////////////
    //
    ///////////////////////////////////////////////////////////////////////////////

    // ------------------------------------------------------------------ 
    // Desc: 
    // ------------------------------------------------------------------ 

    void Start () {
        if ( particleEmitter ) {
            particleEmitter.emit = false;
            Invoke ( "Emit", emittime );
            Invoke ( "StopEmitting", emittime + endemittime );
        }
        else {
            //GameSys.LogError ( "Can't use Firebirth, the GameObject " + gameObject.name + " don't have particle emitter." );
        }
    }

    // ------------------------------------------------------------------ 
    // Desc: 
    // ------------------------------------------------------------------ 

    void Emit () {
        particleEmitter.emit = true;
    }

    // ------------------------------------------------------------------ 
    // Desc: 
    // ------------------------------------------------------------------ 

    void StopEmitting () {
        particleEmitter.emit = false;
    }
}
